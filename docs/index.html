<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Raleway:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>AVbin</title>
<style type="text/css" >
/*
Stylesheet for use with Docutils/rst2html.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.

Modified from Chad Skeeters' rst2html-style
https://bitbucket.org/cskeeters/rst2html-style/

Modified by Boyd Greenfield
*/
/* SCSS variables */
/* Text weights */
/* Body colors */
/* Text colors */
/* Link colors */
/* Syntax highlighting colors */
/* Pct changes */
/* Mixins */
/* Body/layout */
html {
  font-size: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%; }

/* Where we want fancier font if available */
h1, h2, h3, h4, h5, h6, p.module-desc, table.docinfo + blockquote p, table.docinfo blockquote p, h1 + blockquote p {
  font-family: "Raleway", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif !important; }

h1.title {
  font-weight: 900; }

body {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: 400;
  font-size: 14px;
  line-height: 20px;
  color: #666;
  background-color: rgba(252, 248, 244, 0.75); }

/* Skeleton grid */
.container {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box; }

.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box; }

/* For devices larger than 400px */
@media (min-width: 400px) {
  .container {
    width: 100%;
    padding: 0; } }
/* For devices larger than 650px */
@media (min-width: 650px) {
  .container {
    width: 100%; }

  .column,
  .columns {
    margin-left: 4%; }

  .column:first-child,
  .columns:first-child {
    margin-left: 0; }

  .one.column,
  .one.columns {
    width: 4.66666666667%; }

  .two.columns {
    width: 13.3333333333%; }

  .three.columns {
    width: 22%; }

  .four.columns {
    width: 30.6666666667%; }

  .five.columns {
    width: 39.3333333333%; }

  .six.columns {
    width: 48%; }

  .seven.columns {
    width: 56.6666666667%; }

  .eight.columns {
    width: 65.3333333333%; }

  .nine.columns {
    width: 74.0%; }

  .ten.columns {
    width: 82.6666666667%; }

  .eleven.columns {
    width: 91.3333333333%; }

  .twelve.columns {
    width: 100%;
    margin-left: 0; }

  .one-third.column {
    width: 30.6666666667%; }

  .two-thirds.column {
    width: 65.3333333333%; } }
/* Customer Overrides */
.footer {
  text-align: center;
  color: #969696;
  padding-top: 10%; }

p.module-desc {
  font-size: 1.1em;
  color: #666666; }

a.link-seesrc {
  color: #aec7d2;
  font-style: italic; }

a.link-seesrc:hover {
  color: #6c9aae; }

#toc-list {
  word-wrap: break-word; }

ul.simple-toc {
  list-style: none; }

ul.simple-toc a.reference-toplevel {
  font-weight: bold;
  color: #0077b3; }

ul.simple-toc-section {
  list-style-type: circle;
  color: #6c9aae; }

ul.simple-toc-section a.reference {
  color: #0077b3; }

cite {
  font-style: italic !important; }

dt > pre {
  border-color: rgba(0, 0, 0, 0.15);
  background-color: transparent;
  margin: 15px 0px 5px; }

dd > pre {
  border-color: rgba(0, 0, 0, 0.1);
  background-color: whitesmoke;
  margin-top: 8px; }

.item > dd {
  margin-left: 10px;
  margin-bottom: 30px; }

/* Nim line-numbered tables */
.line-nums-table {
  width: 100%;
  table-layout: fixed; }

table.line-nums-table {
  border-radius: 4px;
  border: 1px solid #cccccc;
  background-color: whitesmoke;
  border-collapse: separate;
  margin-top: 15px;
  margin-bottom: 25px; }

.line-nums-table tbody {
  border: none; }

.line-nums-table td pre {
  border: none;
  background-color: transparent; }

.line-nums-table td.blob-line-nums {
  width: 28px; }

.line-nums-table td.blob-line-nums pre {
  color: #b0b0b0;
  -webkit-filter: opacity(75%);
  text-align: right;
  border-color: transparent;
  background-color: transparent;
  padding-left: 0px;
  margin-left: 0px;
  padding-right: 0px;
  margin-right: 0px; }

/* Docgen styles */
/* Links */
a {
  color: #0077b3;
  text-decoration: none; }

a:hover,
a:focus {
  color: #00334d;
  text-decoration: underline; }

a:visited {
  color: #00334d; }

a:focus {
  outline: thin dotted #2d2d2d;
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px; }

a:hover,
a:active {
  outline: 0; }

sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline; }

sup {
  top: -0.5em; }

sub {
  bottom: -0.25em; }

img {
  width: auto;
  height: auto;
  max-width: 100%;
  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic; }

@media print {
  * {
    color: black !important;
    text-shadow: none !important;
    background: transparent !important;
    box-shadow: none !important; }

  a,
  a:visited {
    text-decoration: underline; }

  a[href]:after {
    content: " (" attr(href) ")"; }

  abbr[title]:after {
    content: " (" attr(title) ")"; }

  .ir a:after,
  a[href^="javascript:"]:after,
  a[href^="#"]:after {
    content: ""; }

  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid; }

  thead {
    display: table-header-group; }

  tr,
  img {
    page-break-inside: avoid; }

  img {
    max-width: 100% !important; }

  @page {
    margin: 0.5cm; }

  h1 {
    page-break-before: always; }

  h1.title {
    page-break-before: avoid; }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3; }

  h2,
  h3 {
    page-break-after: avoid; } }
.img-rounded {
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
  border-radius: 6px; }

.img-polaroid {
  padding: 4px;
  background-color: rgba(252, 248, 244, 0.75);
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }

p {
  margin: 0 0 12px; }

small {
  font-size: 85%; }

strong {
  font-weight: 600; }

em {
  font-style: italic; }

cite {
  font-style: normal; }

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: 600;
  line-height: 20px;
  color: inherit;
  text-rendering: optimizelegibility; }

h1 {
  font-size: 2em;
  padding-bottom: .15em;
  border-bottom: 1px solid #aaaaaa;
  margin-top: 1.0em;
  line-height: 1.2em; }

h1.title {
  padding-bottom: 1em;
  border-bottom: 0px;
  font-size: 2.75em; }

h2 {
  font-size: 1.5em;
  margin-top: 1.5em; }

h3 {
  font-size: 1.3em;
  font-style: italic;
  margin-top: 0.75em; }

h4 {
  font-size: 1.3em;
  margin-top: 0.5em; }

h5 {
  font-size: 1.2em;
  margin-top: 0.25em; }

h6 {
  font-size: 1.1em; }

ul,
ol {
  padding: 0;
  margin: 0 0 0px 15px; }

ul ul,
ul ol,
ol ol,
ol ul {
  margin-bottom: 0; }

li {
  line-height: 20px; }

dl {
  margin-bottom: 20px; }

dt,
dd {
  line-height: 20px; }

dt {
  font-weight: bold; }

dd {
  margin-left: 10px;
  margin-bottom: 26px; }

hr {
  margin: 20px 0;
  border: 0;
  border-top: 1px solid #eeeeee;
  border-bottom: 1px solid #ffffff; }

abbr[title],
abbr[data-original-title] {
  cursor: help;
  border-bottom: 1px dotted #999999; }

abbr.initialism {
  font-size: 90%;
  text-transform: uppercase; }

blockquote {
  padding: 0 0 0 15px;
  margin: 0 0 20px;
  border-left: 5px solid #EFEBE0; }

table.docinfo + blockquote, table.docinfo blockquote, h1 + blockquote {
  border-left: 5px solid #c9c9c9;
}

table.docinfo + blockquote p, table.docinfo blockquote p, h1 + blockquote p {
  margin-bottom: 0;
  font-size: 15px;
  font-weight: 200;
  line-height: 1.5;
  font-style: italic; }

q:before,
q:after,
blockquote:before,
blockquote:after {
  content: ""; }

address {
  display: block;
  margin-bottom: 20px;
  font-style: normal;
  line-height: 20px; }

code,
pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  padding: 0 3px 2px;
  font-weight: 500;
  font-size: 12px;
  color: #444444;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px; }

.pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  font-weight: 600;
  /*color: #504da6;*/
}

code {
  padding: 2px 4px;
  color: #444444;
  white-space: nowrap;
  background-color: white;
  border: 1px solid #777777; }

pre {
  display: inline-block;
  box-sizing: border-box;
  min-width: calc(100% - 19.5px);
  padding: 9.5px;
  margin: 0.25em 10px 0.25em 10px;
  font-size: 14px;
  line-height: 20px;
  white-space: pre !important;
  overflow-y: hidden;
  overflow-x: visible;
  background-color: whitesmoke;
  border: 1px solid #cccccc;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px; }

pre.prettyprint {
  margin-bottom: 20px; }

pre code {
  padding: 0;
  color: inherit;
  white-space: pre;
  overflow-x: visible;
  background-color: transparent;
  border: 0; }

.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll; }

table {
  max-width: 100%;
  background-color: transparent;
  border-collapse: collapse;
  border-spacing: 0; }

table th, table td {
  padding: 0px 8px 0px;
}

.table {
  width: 100%;
  margin-bottom: 20px; }

.table th,
.table td {
  padding: 8px;
  line-height: 20px;
  text-align: left;
  vertical-align: top;
  border-top: 1px solid #444444; }

.table th {
  font-weight: bold; }

.table thead th {
  vertical-align: bottom; }

.table caption + thead tr:first-child th,
.table caption + thead tr:first-child td,
.table colgroup + thead tr:first-child th,
.table colgroup + thead tr:first-child td,
.table thead:first-child tr:first-child th,
.table thead:first-child tr:first-child td {
  border-top: 0; }

.table tbody + tbody {
  border-top: 2px solid #444444; }

.table .table {
  background-color: rgba(252, 248, 244, 0.75); }

.table-condensed th,
.table-condensed td {
  padding: 4px 5px; }

.table-bordered {
  border: 1px solid #444444;
  border-collapse: separate;
  *border-collapse: collapse;
  border-left: 0;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px; }

.table-bordered th,
.table-bordered td {
  border-left: 1px solid #444444; }

.table-bordered caption + thead tr:first-child th,
.table-bordered caption + tbody tr:first-child th,
.table-bordered caption + tbody tr:first-child td,
.table-bordered colgroup + thead tr:first-child th,
.table-bordered colgroup + tbody tr:first-child th,
.table-bordered colgroup + tbody tr:first-child td,
.table-bordered thead:first-child tr:first-child th,
.table-bordered tbody:first-child tr:first-child th,
.table-bordered tbody:first-child tr:first-child td {
  border-top: 0; }

.table-bordered thead:first-child tr:first-child > th:first-child,
.table-bordered tbody:first-child tr:first-child > td:first-child,
.table-bordered tbody:first-child tr:first-child > th:first-child {
  -webkit-border-top-left-radius: 4px;
  border-top-left-radius: 4px;
  -moz-border-radius-topleft: 4px; }

.table-bordered thead:first-child tr:first-child > th:last-child,
.table-bordered tbody:first-child tr:first-child > td:last-child,
.table-bordered tbody:first-child tr:first-child > th:last-child {
  -webkit-border-top-right-radius: 4px;
  border-top-right-radius: 4px;
  -moz-border-radius-topright: 4px; }

.table-bordered thead:last-child tr:last-child > th:first-child,
.table-bordered tbody:last-child tr:last-child > td:first-child,
.table-bordered tbody:last-child tr:last-child > th:first-child,
.table-bordered tfoot:last-child tr:last-child > td:first-child,
.table-bordered tfoot:last-child tr:last-child > th:first-child {
  -webkit-border-bottom-left-radius: 4px;
  border-bottom-left-radius: 4px;
  -moz-border-radius-bottomleft: 4px; }

.table-bordered thead:last-child tr:last-child > th:last-child,
.table-bordered tbody:last-child tr:last-child > td:last-child,
.table-bordered tbody:last-child tr:last-child > th:last-child,
.table-bordered tfoot:last-child tr:last-child > td:last-child,
.table-bordered tfoot:last-child tr:last-child > th:last-child {
  -webkit-border-bottom-right-radius: 4px;
  border-bottom-right-radius: 4px;
  -moz-border-radius-bottomright: 4px; }

.table-bordered tfoot + tbody:last-child tr:last-child td:first-child {
  -webkit-border-bottom-left-radius: 0;
  border-bottom-left-radius: 0;
  -moz-border-radius-bottomleft: 0; }

.table-bordered tfoot + tbody:last-child tr:last-child td:last-child {
  -webkit-border-bottom-right-radius: 0;
  border-bottom-right-radius: 0;
  -moz-border-radius-bottomright: 0; }

.table-bordered caption + thead tr:first-child th:first-child,
.table-bordered caption + tbody tr:first-child td:first-child,
.table-bordered colgroup + thead tr:first-child th:first-child,
.table-bordered colgroup + tbody tr:first-child td:first-child {
  -webkit-border-top-left-radius: 4px;
  border-top-left-radius: 4px;
  -moz-border-radius-topleft: 4px; }

.table-bordered caption + thead tr:first-child th:last-child,
.table-bordered caption + tbody tr:first-child td:last-child,
.table-bordered colgroup + thead tr:first-child th:last-child,
.table-bordered colgroup + tbody tr:first-child td:last-child {
  -webkit-border-top-right-radius: 4px;
  border-top-right-radius: 4px;
  -moz-border-radius-topright: 4px; }

table.docutils th {
  background-color: #e8e8e8; }

table.docutils tr:hover {
  background-color: whitesmoke; }

.table-striped tbody > tr:nth-child(odd) > td,
.table-striped tbody > tr:nth-child(odd) > th {
  background-color: rgba(252, 248, 244, 0.75); }

.table-hover tbody tr:hover > td,
.table-hover tbody tr:hover > th {
  background-color: rgba(241, 222, 204, 0.75); }

table td[class*="span"],
table th[class*="span"],
.row-fluid table td[class*="span"],
.row-fluid table th[class*="span"] {
  display: table-cell;
  float: none;
  margin-left: 0; }

.hero-unit {
  padding: 60px;
  margin-bottom: 30px;
  font-size: 18px;
  font-weight: 200;
  line-height: 30px;
  color: inherit;
  background-color: rgba(230, 197, 164, 0.75);
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
  border-radius: 6px; }

.hero-unit h1 {
  margin-bottom: 0;
  font-size: 60px;
  line-height: 1;
  letter-spacing: -1px;
  color: inherit; }

.hero-unit li {
  line-height: 30px; }

/* rst2html default used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0; }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 !important; }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 !important; }

.last, .with-subtitle {
  margin-bottom: 0 !important; }

.hidden {
  display: none; }

a.toc-backref {
  text-decoration: none;
  color: #444444; }

blockquote.epigraph {
  margin: 2em 5em; }

dl.docutils dd {
  margin-bottom: 0.5em; }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden; }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/
div.abstract {
  margin: 2em 5em; }

div.abstract p.topic-title {
  font-weight: bold;
  text-align: center; }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em;
  border: medium outset;
  padding: 1em; }

div.note, div.warning {
  margin: 1.5em 0px;
  border: none; }

div.note p.admonition-title,
div.warning p.admonition-title {
  display: none; }

/* Clearfix
 * http://css-tricks.com/snippets/css/clear-fix/
 */
div.note:after,
div.warning:after {
  content: "";
  display: table;
  clear: both; }

div.note p:before,
div.warning p:before {
  display: block;
  float: left;
  font-size: 4em;
  line-height: 1em;
  margin-right: 20px;
  margin-left: 0em;
  margin-top: -10px;
  content: '\0270D';
  /*handwriting*/ }

div.warning p:before {
  content: '\026A0';
  /*warning*/ }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold;
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif; }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: #b30000;
  font-weight: bold;
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif; }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic; }

div.dedication p.topic-title {
  font-weight: bold;
  font-style: normal; }

div.figure {
  margin-left: 2em;
  margin-right: 2em; }

div.footer, div.header {
  clear: both;
  font-size: smaller; }

div.line-block {
  display: block;
  margin-top: 1em;
  margin-bottom: 1em; }

div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 1.5em; }

div.sidebar {
  margin: 0 0 0.5em 1em;
  border: medium outset;
  padding: 1em;
  background-color: rgba(252, 248, 244, 0.75);
  width: 40%;
  float: right;
  clear: right; }

div.sidebar p.rubric {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-size: medium; }

div.system-messages {
  margin: 5em; }

div.system-messages h1 {
  color: #b30000; }

div.system-message {
  border: medium outset;
  padding: 1em; }

div.system-message p.system-message-title {
  color: #b30000;
  font-weight: bold; }

div.topic {
  margin: 2em; }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em; }

h1.title {
  text-align: center; }

h2.subtitle {
  text-align: center; }

hr.docutils {
  width: 75%; }

img.align-left, .figure.align-left, object.align-left {
  clear: left;
  float: left;
  margin-right: 1em; }

img.align-right, .figure.align-right, object.align-right {
  clear: right;
  float: right;
  margin-left: 1em; }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto; }

.align-left {
  text-align: left; }

.align-center {
  clear: both;
  text-align: center; }

.align-right {
  text-align: right; }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit; }

/* div.align-center * { */
/*   text-align: left } */

ul.simple > li {
  margin-bottom: 0.5em }

ol.simple, ul.simple {
  margin-bottom: 1em; }

ol.arabic {
  list-style: decimal; }

ol.loweralpha {
  list-style: lower-alpha; }

ol.upperalpha {
  list-style: upper-alpha; }

ol.lowerroman {
  list-style: lower-roman; }

ol.upperroman {
  list-style: upper-roman; }

p.attribution {
  text-align: right;
  margin-left: 50%; }

p.caption {
  font-style: italic; }

p.credits {
  font-style: italic;
  font-size: smaller; }

p.label {
  white-space: nowrap; }

p.rubric {
  font-weight: bold;
  font-size: larger;
  color: maroon;
  text-align: center; }

p.sidebar-title {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: bold;
  font-size: larger; }

p.sidebar-subtitle {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: bold; }

p.topic-title {
  font-weight: bold; }

pre.address {
  margin-bottom: 0;
  margin-top: 0;
  font: inherit; }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em;
  margin-right: 2em; }

pre.code .ln {
  color: grey; }

/* line numbers */
pre.code, code {
  background-color: #eeeeee; }

pre.code .comment, code .comment {
  color: #5c6576; }

pre.code .keyword, code .keyword {
  color: #3B0D06;
  font-weight: bold; }

pre.code .literal.string, code .literal.string {
  color: #0c5404; }

pre.code .name.builtin, code .name.builtin {
  color: #352b84; }

pre.code .deleted, code .deleted {
  background-color: #DEB0A1; }

pre.code .inserted, code .inserted {
  background-color: #A3D289; }

span.classifier {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-style: oblique; }

span.classifier-delimiter {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: bold; }

span.interpreted {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif; }

span.option {
  white-space: nowrap; }

span.pre {
  white-space: pre; }

span.problematic {
  color: #b30000; }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80%; }

table.citation {
  border-left: solid 1px #666666;
  margin-left: 1px; }

table.docinfo {
  margin: 0em;
  margin-top: 2em;
  margin-bottom: 2em;
  font-family: "Raleway", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif !important;
  color: #444444; }

table.docutils {
  margin-top: 0.5em;
  margin-bottom: 0.5em; }

table.footnote {
  border-left: solid 1px #2d2d2d;
  margin-left: 1px; }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em;
  padding-right: 0.5em;
  vertical-align: top; }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: 700;
  text-align: left;
  white-space: nowrap;
  padding-left: 0; }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100%; }

ul.auto-toc {
  list-style-type: none; }

span.DecNumber {
  color: #252dbe; }

span.BinNumber {
  color: #252dbe; }

span.HexNumber {
  color: #252dbe; }

span.OctNumber {
  color: #252dbe; }

span.FloatNumber {
  color: #252dbe; }

span.Identifier {
  color: #3b3b3b; }

span.Keyword {
  font-weight: 600;
  color: #5e8f60; }

span.StringLit {
  color: #a4255b; }

span.LongStringLit {
  color: #a4255b; }

span.CharLit {
  color: #a4255b; }

span.EscapeSequence {
  color: black; }

span.Operator {
  color: black; }

span.Punctuation {
  color: black; }

span.Comment, span.LongComment {
  font-style: italic;
  font-weight: 400;
  color: #484a86; }

span.RegularExpression {
  color: darkviolet; }

span.TagStart {
  color: darkviolet; }

span.TagEnd {
  color: darkviolet; }

span.Key {
  color: #252dbe; }

span.Value {
  color: #252dbe; }

span.RawData {
  color: #a4255b; }

span.Assembler {
  color: #252dbe; }

span.Preprocessor {
  color: #252dbe; }

span.Directive {
  color: #252dbe; }

span.Command, span.Rule, span.Hyperlink, span.Label, span.Reference,
span.Other {
  color: black; }

/* Pop type, const, proc, and iterator defs in nim def blocks */
dt pre > span.Identifier, dt pre > span.Operator {
  color: #155da4;
  font-weight: 700; }

dt pre > span.Identifier ~ span.Identifier, dt pre > span.Operator ~ span.Identifier {
  color: inherit;
  font-weight: inherit; }

dt pre > span.Operator ~ span.Identifier, dt pre > span.Operator ~ span.Operator {
  color: inherit;
  font-weight: inherit; }

/* Nim sprite for the footer (taken from main page favicon) */
.nim-sprite {
  display: inline-block;
  height: 12px;
  width: 12px;
  background-position: 0 0;
  background-size: 12px 12px;
  -webkit-filter: opacity(50%);
  background-repeat: no-repeat;
  background-image: url("data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA==");
  margin-bottom: -5px; }
  div.pragma {
    display: none;
  }
  span.pragmabegin {
    cursor: pointer;
  }
  span.pragmaend {
    cursor: pointer;
  }

div.search_results {
  background-color: antiquewhite;
  margin: 3em;
  padding: 1em;
  border: 1px solid #4d4d4d;
}
</style>

<script type="text/javascript" src="../dochack.js"></script>

<script type="text/javascript">
function togglepragma(d) {
  if (d.style.display != 'inline')
    d.style.display = 'inline';
  else
    d.style.display = 'none';
}

function main() {
  var elements = document.getElementsByClassName("pragmabegin");
  for (var i = 0; i < elements.length; ++i) {
    var e = elements[i];
    e.onclick = function(event) {
      togglepragma(event.target.nextSibling);
    };
  }
  var elements = document.getElementsByClassName("pragmaend");
  for (var i = 0; i < elements.length; ++i) {
    var e = elements[i];
    e.onclick = function(event) {
      togglepragma(event.target.previousSibling);
    };
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">AVbin</h1>
    <div class="row">
  <div class="three columns">
  <div>
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="avbin-procedures-and-objects_toc" href="#avbin-procedures-and-objects">AVbin procedures and objects</a></li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#AVbinResult"
    title="AVbinResult = enum
  AVBIN_RESULT_ERROR = -1, AVBIN_RESULT_OK = 0"><wbr />AVbin<wbr />Result<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamType"
    title="AVbinStreamType = enum
  AVBIN_STREAM_TYPE_UNKNOWN = 0, AVBIN_STREAM_TYPE_VIDEO = 1,
  AVBIN_STREAM_TYPE_AUDIO = 2"><wbr />AVbin<wbr />Stream<wbr />Type<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinSampleFormat"
    title="AVbinSampleFormat = enum
  AVBIN_SAMPLE_FORMAT_U8 = 0,   ## Unsigned byte
  AVBIN_SAMPLE_FORMAT_S16 = 1,  ## Signed 16-bit integer
  AVBIN_SAMPLE_FORMAT_UNUSED = 2, ## Signed 24-bit integer  \
                               ## `AVBIN_SAMPLE_FORMAT_S24` removed upstream.
                               ## Removed here in AVbin 11
  AVBIN_SAMPLE_FORMAT_S32 = 3,  ## Signed 32-bit integer
  AVBIN_SAMPLE_FORMAT_FLOAT = 4 ## 32-bit IEEE floating-point"><wbr />AVbin<wbr />Sample<wbr />Format<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinLogLevel"
    title="AVbinLogLevel = enum
  AVBIN_LOG_QUIET = -8, AVBIN_LOG_PANIC = 0, AVBIN_LOG_FATAL = 8, AVBIN_LOG_ERROR = 16,
  AVBIN_LOG_WARNING = 24, AVBIN_LOG_INFO = 32, AVBIN_LOG_VERBOSE = 40,
  AVBIN_LOG_DEBUG = 48"><wbr />AVbin<wbr />Log<wbr />Level<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinFile"
    title="AVbinFile = pointer"><wbr />AVbin<wbr />File<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStream"
    title="AVbinStream = pointer"><wbr />AVbin<wbr />Stream<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinTimestamp"
    title="AVbinTimestamp = int64"><wbr />AVbin<wbr />Timestamp<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinFileInfo"
    title="AVbinFileInfo = object
  structureSize*: csize        ## Size of this structure, in bytes. \
                      ## This must be filled in by the application before passing to AVbin.
  nStreams*: int32             ## Number of streams contained in the file.
  startTime*: AVbinTimestamp   ## Starting time of all streams.
  duration*: AVbinTimestamp    ## Duration of the file. \
                          ## Does not include the time given in ``startTime``.
  title*: array[512, char] ## File metadata \
                        ## Strings are NUL-terminated and may be omitted
                        ## (the first character `\0`) if the file does not contain appropriate
                        ## information. The encoding of the strings is unspecified.
  author*: array[512, char]
  copyright*: array[512, char]
  comment*: array[512, char]
  album*: array[512, char]
  year*: int32
  track*: int32
  genre*: array[32, char]"><wbr />AVbin<wbr />File<wbr />Info<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamVideo"
    title="AVbinStreamVideo = object
  width*: uint32
  height*: uint32              ## Height of the video image, in pixels.
  sampleAspectNum*: uint32
  sampleAspectDen*: uint32     ## Aspect-ratio of each pixel. \
                         ## The aspect is given by dividing
                         ## ``sampleAspectNum`` by ``sampleAspectDen``.
  frameRateDen*: uint32
  frameRateNum*: uint32        ## Frame rate, in frames per second. \
                      ## The frame rate is given by  dividing
                      ## ``frameRateNum by ``frameRateDen``.
                      ## 
                      ## ``Version 8`` requires ``frame_rate`` feature.
                      ## 
                      ## ``REMOVED IN VERSION 11`` - see note on ``avbin.have_feature()``."><wbr />AVbin<wbr />Stream<wbr />Video<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamAudio"
    title="AVbinStreamAudio = object
  sampleFormat*: AVbinSampleFormat
  sampleRate*: uint32          ## Number of samples per second, in Hz.
  sampleBits*: uint32          ## Number of bits per sample; typically `8` or `16`.
  channels*: uint32 ## Number of interleaved audio channels. \\
                  ## Typically `1` for monoaural, `2` for stereo. Higher channel numbers
                  ## are used for surround sound, however AVbin does not currently provide
                  ## a way to access the arrangement of these channels."><wbr />AVbin<wbr />Stream<wbr />Audio<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamObj"
    title="AVbinStreamObj = object
  video*: AVbinStreamVideo
  audio*: AVbinStreamAudio"><wbr />AVbin<wbr />Stream<wbr />Obj<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamInfo"
    title="AVbinStreamInfo = object
  structureSize*: csize        ## Size of this structure, in bytes. \
                      ## This must be filled in by the  application before passing to AVbin.
  `type`*: AVbinStreamType     ## The type of stream; either audio or video.
  stream*: AVbinStreamObj"><wbr />AVbin<wbr />Stream<wbr />Info<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamVideo8"
    title="AVbinStreamVideo8 = object
  width*: uint32
  height*: uint32              ## Height of the video image, in pixels.
  sampleAspectNum*: uint32
  sampleAspectDen*: uint32     ## Aspect-ratio of each pixel.
                         ## The aspect is given by dividing
                         ## ``sampleAspectNum`` by ``sampleAspectDen``.
  frameRateNum*: uint32
  frameRateDen*: uint32        ## Frame rate, in frames per second. \
                      ## The frame rate is given by dividing
                      ## ``frameRateNum`` by ``frameRateDen``.
                      ## 
                      ## ``Version 8`` requires ``frameRate`` extension."><wbr />AVbin<wbr />Stream<wbr />Video8<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamAudio8"
    title="AVbinStreamAudio8 = object
  sampleFormat*: AVbinSampleFormat
  sampleRate*: uint32          ## Number of samples per second, in Hz.
  sampleBits*: uint32          ## Number of bits per sample; typically `8` or `16`.
  channels*: uint32 ## Number of interleaved audio channels.
                  ## Typically `1` for monoaural, `2` for stereo. Higher channel numbers
                  ## are used for surround sound, however AVbin does not currently provide
                  ## a way to access the arrangement of these channels."><wbr />AVbin<wbr />Stream<wbr />Audio8<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamObj8"
    title="AVbinStreamObj8 = object
  video*: AVbinStreamVideo8
  audio*: AVbinStreamAudio8"><wbr />AVbin<wbr />Stream<wbr />Obj8<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinStreamInfo8"
    title="AVbinStreamInfo8 = object
  structureSize*: csize        ## Size of this structure, in bytes. \
                      ## This must be filled in by the  application before passing to AVbin.
  `type`*: AVbinStreamType     ## The type of stream; either audio or video.
  stream*: AVbinStreamObj8"><wbr />AVbin<wbr />Stream<wbr />Info8<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinPacket"
    title="AVbinPacket = object
  structureSize*: csize        ## Size of this structure, in bytes. \
                      ## This must be filled in by the application before passing to AVbin.
  timestamp*: AVbinTimestamp   ## The time at which this packet is to be \
                           ## played. This can be used to synchronise audio and video data.
  streamIndex*: uint32         ## The stream this packet contains data for.
  data*: ptr uint8
  size*: csize"><wbr />AVbin<wbr />Packet<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinInfo"
    title="AVbinInfo = object
  structureSize*: csize ## Size of this structure, in bytes.
                      ##  This will be filled in for you by ``avbin.get_info()`` so that you
                      ##  can determine which version of this struct  you have received.
                      ##  For example:
                      ## 
                      ##  .. code-block:: nim
                      ##    var info: ptr AVbinInfo = avbin.get_info()
                      ##    if info.structureSize == sizeof(AVbinInfo)
                      ##    # You are safe to access the members of an AVbinInfo...
                      ## 
  version*: int32 ## AVbin version as an integer.  \
                ## This value is the same as returned by the ``avbin.get_version()``
                ## procedure.  Consider using ``versionString`` instead.
  versionString*: cstring      ## AVbin version string, \
                        ## including pre-release information, i.e. &quot;10-beta1&quot;.
  buildDate*: cstring          ## When the library was built, \
                    ## in strftime format &quot;%Y-%m-%d %H:%M:%S %z&quot;
  repo*: cstring               ## URL to the AVbin repository used.
  commit*: cstring             ## The commit of the AVbin repository used.
  backend*: cstring            ## Which backend we are using: &quot;libav&quot; or &quot;ffmpeg&quot;
  backendVersionString*: cstring ## The version string  \
                               ## of the most recent tag of the backend.
                               ## 
                               ## ``Note:`` There may be custom patches *on top* of the backend version.
  backendRepo*: cstring        ## URL to the backend repository \
                      ## used for this release.
  backendCommit*: cstring      ## The commit hash of the backend repo \
                        ## used for the backend."><wbr />AVbin<wbr />Info<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinOptions"
    title="AVbinOptions = object
  structureSize*: csize        ## Size of this structure, in bytes. \
                      ## This must be filled in by the  application before passing to AVbin.
  threadCount*: int32 ## Number of threads to attempt to use.  \
                    ## Using the recommended ``threadCount`` of `0` means try to detect
                    ## the number of CPU cores and set threads to (num cores + 1).
                    ## A ``threadCount`` of `1` or a negative number means single threaded.
                    ## Any other number will result in an attempt to set that many threads."><wbr />AVbin<wbr />Options<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#AVbinLogCallback"
    title="AVbinLogCallback = proc (module: cstring; level: AVbinLogLevel; message: cstring)"><wbr />AVbin<wbr />Log<wbr />Callback<span class="attachedType" style="visibility:hidden"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#getVersion,"
    title="getVersion(): int32"><wbr />get<wbr />Version<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#getInfo,"
    title="getInfo(): ptr AVbinInfo"><wbr />get<wbr />Info<span class="attachedType" style="visibility:hidden">AVbinInfo</span></a></li>
  <li><a class="reference" href="#getFFmpegRevision,"
    title="getFFmpegRevision(): int32"><wbr />get<wbr />FFmpeg<wbr />Revision<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#getAudioBufferSize,"
    title="getAudioBufferSize(): csize"><wbr />get<wbr />Audio<wbr />Buffer<wbr />Size<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#haveFeature,cstring"
    title="haveFeature(feature: cstring): int32"><wbr />have<wbr />Feature<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#init,"
    title="init(): AVbinResult"><wbr />init<span class="attachedType" style="visibility:hidden">AVbinResult</span></a></li>
  <li><a class="reference" href="#initOptions,ptr.AVbinOptions"
    title="initOptions(options: ptr AVbinOptions): AVbinResult"><wbr />init<wbr />Options<span class="attachedType" style="visibility:hidden">AVbinOptions</span></a></li>
  <li><a class="reference" href="#setLogLevel,AVbinLogLevel"
    title="setLogLevel(level: AVbinLogLevel): AVbinResult"><wbr />set<wbr />Log<wbr />Level<span class="attachedType" style="visibility:hidden">AVbinLogLevel</span></a></li>
  <li><a class="reference" href="#setLogCallback,AVbinLogCallback"
    title="setLogCallback(callback: AVbinLogCallback): AVbinResult"><wbr />set<wbr />Log<wbr />Callback<span class="attachedType" style="visibility:hidden">AVbinLogCallback</span></a></li>
  <li><a class="reference" href="#openFilename,cstring"
    title="openFilename(filename: cstring): AVbinFile"><wbr />open<wbr />Filename<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#openFilenameWithFormat,cstring,cstring"
    title="openFilenameWithFormat(filename: cstring; format: cstring): AVbinFile"><wbr />open<wbr />Filename<wbr />With<wbr />Format<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#closeFile,AVbinFile"
    title="closeFile(file: AVbinFile)"><wbr />close<wbr />File<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#seekFile,AVbinFile,AVbinTimestamp"
    title="seekFile(file: AVbinFile; timestamp: AVbinTimestamp): AVbinResult"><wbr />seek<wbr />File<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#fileInfo,AVbinFile,ptr.AVbinFileInfo"
    title="fileInfo(file: AVbinFile; info: ptr AVbinFileInfo): AVbinResult"><wbr />file<wbr />Info<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#streamInfo,AVbinFile,int32,ptr.AVbinStreamInfo"
    title="streamInfo(file: AVbinFile; streamIndex: int32; info: ptr AVbinStreamInfo): AVbinResult"><wbr />stream<wbr />Info<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#openStream,AVbinFile,int32"
    title="openStream(file: AVbinFile; streamIndex: int32): AVbinStream"><wbr />open<wbr />Stream<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#closeStream,AVbinStream"
    title="closeStream(stream: AVbinStream)"><wbr />close<wbr />Stream<span class="attachedType" style="visibility:hidden">AVbinStream</span></a></li>
  <li><a class="reference" href="#read,AVbinFile,ptr.AVbinPacket"
    title="read(file: AVbinFile; packet: ptr AVbinPacket): AVbinResult"><wbr />read<span class="attachedType" style="visibility:hidden">AVbinFile</span></a></li>
  <li><a class="reference" href="#decodeAudio,AVbinStream,ptr.uint8,csize,ptr.uint8,ptr.cint"
    title="decodeAudio(stream: AVbinStream; dataIn: ptr uint8; sizeIn: csize; dataOut: ptr uint8;
            sizeOut: ptr cint): int32"><wbr />decode<wbr />Audio<span class="attachedType" style="visibility:hidden">AVbinStream</span></a></li>
  <li><a class="reference" href="#decodeVideo,AVbinStream,ptr.uint8,csize,ptr.uint8"
    title="decodeVideo(stream: AVbinStream; dataIn: ptr uint8; sizeIn: csize; dataOut: ptr uint8): int32"><wbr />decode<wbr />Video<span class="attachedType" style="visibility:hidden">AVbinStream</span></a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  <p class="module-desc"><p>AVbin is a binary release of a cross-platform, thin wrapper around Libav’s video and audio decoding library, providing long-term binary compatibility for applications and languages that need it.</p>

<h1><a class="toc-backref" id="avbin-procedures-and-objects" href="#avbin-procedures-and-objects">AVbin procedures and objects</a></h1><p>To open a file and prepare it for decoding, the general procedure is:</p>
<ul class="simple"><li>(Optionally) call <tt class="docutils literal"><span class="pre">avbin.have_feature()</span></tt> to check which features are available.  This is only needed if your application may be deployed in environments with older versions of AVbin than you are developing to.</li>
<li>Initialize AVbin by calling <tt class="docutils literal"><span class="pre">avbin.init_options()</span></tt></li>
<li>Open a sound or video file using <tt class="docutils literal"><span class="pre">avbin.open_filename()</span></tt></li>
<li>Retrieve details of the file using <tt class="docutils literal"><span class="pre">avbin.file_info()</span></tt>.  The resulting <tt class="docutils literal"><span class="pre">AVbinFileInfo</span></tt> structure includes details such as:<ul class="simple"><li>Start time and duration</li>
<li>Number of audio and video streams</li>
<li>Metadata such as title, artist, etc.</li>
</ul>
</li>
<li><p>Examine details of each stream using <tt class="docutils literal"><span class="pre">avbin.stream_info()</span></tt>, passing in each stream index as an integer from <cite>0</cite> to <tt class="docutils literal"><span class="pre">n_streams</span></tt>.</p>
<p>For video streams, the <tt class="docutils literal"><span class="pre">AVbinStreamInfo</span></tt> structure includes:</p>
<ul class="simple"><li>Video width and height, in pixels</li>
<li>Pixel aspect ratio, expressed as a fraction</li>
</ul>
<p>For audio streams, the structure includes:</p>
<ul class="simple"><li>Sample rate, in Hz</li>
<li>Bits per sample</li>
<li>Channels (monoaural, stereo, or multichannel surround)</li>
</ul>
</li>
<li>For each stream you intend to decode, call <tt class="docutils literal"><span class="pre">avbin.open_stream()</span></tt>.</li>
</ul>
<p>When all information has been determined and the streams are open, you can proceed to read and decode the file:</p>
<ul class="simple"><li>Call <tt class="docutils literal"><span class="pre">avbin.read()</span></tt> to read a packet of data from the file.</li>
<li>Examine the resulting <tt class="docutils literal"><span class="pre">AVbinPacket</span></tt> structure for the <tt class="docutils literal"><span class="pre">stream_index</span></tt>, which indicates how the packet should be decoded.  If the stream is not one that you have opened, you can discard the packet and continue with step 1 again.</li>
<li>To decode an audio packet, repeatedly pass the data within the packet to <tt class="docutils literal"><span class="pre">avbin.decode_audio()</span></tt>, until there is no data left to consume or an error is returned.</li>
<li>To decode a video packet, pass the data within the packet to <tt class="docutils literal"><span class="pre">avbin.decode_video()</span></tt>, which will decode a single image in RGB format.</li>
<li>Synchronise audio and video data by observing the <tt class="docutils literal"><span class="pre">AVbinPacket.timestamp</span></tt> member.</li>
</ul>
<p>When decoding is complete, call <tt class="docutils literal"><span class="pre">avbin.close_stream()</span></tt> on each stream and <tt class="docutils literal"><span class="pre">avbin.close_file()</span></tt> on the open file.</p>
</p>
  <div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<dt id="AVbinResult"><a name="AVbinResult"></a><pre><span class="Identifier">AVbinResult</span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">AVBIN_RESULT_ERROR</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">,</span> <span class="Identifier">AVBIN_RESULT_OK</span> <span class="Other">=</span> <span class="DecNumber">0</span></pre></dt>
<dd>

Error-checked procedure result.

</dd>
<dt id="AVbinStreamType"><a name="AVbinStreamType"></a><pre><span class="Identifier">AVbinStreamType</span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">AVBIN_STREAM_TYPE_UNKNOWN</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span> <span class="Identifier">AVBIN_STREAM_TYPE_VIDEO</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">,</span>
  <span class="Identifier">AVBIN_STREAM_TYPE_AUDIO</span> <span class="Other">=</span> <span class="DecNumber">2</span></pre></dt>
<dd>

Type of a stream; currently only video and audio streams are supported.

</dd>
<dt id="AVbinSampleFormat"><a name="AVbinSampleFormat"></a><pre><span class="Identifier">AVbinSampleFormat</span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">AVBIN_SAMPLE_FORMAT_U8</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span>   <span class="Comment">## Unsigned byte</span>
  <span class="Identifier">AVBIN_SAMPLE_FORMAT_S16</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">,</span>  <span class="Comment">## Signed 16-bit integer</span>
  <span class="Identifier">AVBIN_SAMPLE_FORMAT_UNUSED</span> <span class="Other">=</span> <span class="DecNumber">2</span><span class="Other">,</span> <span class="Comment">## Signed 24-bit integer  \</span>
                               <span class="Comment">## `AVBIN_SAMPLE_FORMAT_S24` removed upstream.</span>
                               <span class="Comment">## Removed here in AVbin 11</span>
  <span class="Identifier">AVBIN_SAMPLE_FORMAT_S32</span> <span class="Other">=</span> <span class="DecNumber">3</span><span class="Other">,</span>  <span class="Comment">## Signed 32-bit integer</span>
  <span class="Identifier">AVBIN_SAMPLE_FORMAT_FLOAT</span> <span class="Other">=</span> <span class="DecNumber">4</span> <span class="Comment">## 32-bit IEEE floating-point</span></pre></dt>
<dd>

The sample format for audio data.

</dd>
<dt id="AVbinLogLevel"><a name="AVbinLogLevel"></a><pre><span class="Identifier">AVbinLogLevel</span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">AVBIN_LOG_QUIET</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">8</span><span class="Other">,</span> <span class="Identifier">AVBIN_LOG_PANIC</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span> <span class="Identifier">AVBIN_LOG_FATAL</span> <span class="Other">=</span> <span class="DecNumber">8</span><span class="Other">,</span> <span class="Identifier">AVBIN_LOG_ERROR</span> <span class="Other">=</span> <span class="DecNumber">16</span><span class="Other">,</span>
  <span class="Identifier">AVBIN_LOG_WARNING</span> <span class="Other">=</span> <span class="DecNumber">24</span><span class="Other">,</span> <span class="Identifier">AVBIN_LOG_INFO</span> <span class="Other">=</span> <span class="DecNumber">32</span><span class="Other">,</span> <span class="Identifier">AVBIN_LOG_VERBOSE</span> <span class="Other">=</span> <span class="DecNumber">40</span><span class="Other">,</span>
  <span class="Identifier">AVBIN_LOG_DEBUG</span> <span class="Other">=</span> <span class="DecNumber">48</span></pre></dt>
<dd>

Threshold of logging verbosity.

</dd>
<dt id="AVbinFile"><a name="AVbinFile"></a><pre><span class="Identifier">AVbinFile</span> <span class="Other">=</span> <span class="Identifier">pointer</span></pre></dt>
<dd>
Opaque open file handle.

</dd>
<dt id="AVbinStream"><a name="AVbinStream"></a><pre><span class="Identifier">AVbinStream</span> <span class="Other">=</span> <span class="Identifier">pointer</span></pre></dt>
<dd>
Opaque open stream handle.

</dd>
<dt id="AVbinTimestamp"><a name="AVbinTimestamp"></a><pre><span class="Identifier">AVbinTimestamp</span> <span class="Other">=</span> <span class="Identifier">int64</span></pre></dt>
<dd>
Point in time, or a time range; 
given in microseconds.

</dd>
<dt id="AVbinFileInfo"><a name="AVbinFileInfo"></a><pre><span class="Identifier">AVbinFileInfo</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">structureSize</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">csize</span>        <span class="Comment">## Size of this structure, in bytes. \</span>
                      <span class="Comment">## This must be filled in by the application before passing to AVbin.</span>
  <span class="Identifier">nStreams</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span>             <span class="Comment">## Number of streams contained in the file.</span>
  <span class="Identifier">startTime</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinTimestamp</span>   <span class="Comment">## Starting time of all streams.</span>
  <span class="Identifier">duration</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinTimestamp</span>    <span class="Comment">## Duration of the file. \</span>
                          <span class="Comment">## Does not include the time given in ``startTime``.</span>
  <span class="Identifier">title</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">512</span><span class="Other">,</span> <span class="Identifier">char</span><span class="Other">]</span> <span class="Comment">## File metadata \</span>
                        <span class="Comment">## Strings are NUL-terminated and may be omitted</span>
                        <span class="Comment">## (the first character `\0`) if the file does not contain appropriate</span>
                        <span class="Comment">## information. The encoding of the strings is unspecified.</span>
  <span class="Identifier">author</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">512</span><span class="Other">,</span> <span class="Identifier">char</span><span class="Other">]</span>
  <span class="Identifier">copyright</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">512</span><span class="Other">,</span> <span class="Identifier">char</span><span class="Other">]</span>
  <span class="Identifier">comment</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">512</span><span class="Other">,</span> <span class="Identifier">char</span><span class="Other">]</span>
  <span class="Identifier">album</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">512</span><span class="Other">,</span> <span class="Identifier">char</span><span class="Other">]</span>
  <span class="Identifier">year</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span>
  <span class="Identifier">track</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span>
  <span class="Identifier">genre</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">32</span><span class="Other">,</span> <span class="Identifier">char</span><span class="Other">]</span>
</pre></dt>
<dd>
File details. 
The info struct is filled in by <tt class="docutils literal"><span class="pre">avbin.get_file_info()</span></tt>.

</dd>
<dt id="AVbinStreamVideo"><a name="AVbinStreamVideo"></a><pre><span class="Identifier">AVbinStreamVideo</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">width</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">height</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>              <span class="Comment">## Height of the video image, in pixels.</span>
  <span class="Identifier">sampleAspectNum</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">sampleAspectDen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>     <span class="Comment">## Aspect-ratio of each pixel. \</span>
                         <span class="Comment">## The aspect is given by dividing</span>
                         <span class="Comment">## ``sampleAspectNum`` by ``sampleAspectDen``.</span>
  <span class="Identifier">frameRateDen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">frameRateNum</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>        <span class="Comment">## Frame rate, in frames per second. \</span>
                      <span class="Comment">## The frame rate is given by  dividing</span>
                      <span class="Comment">## ``frameRateNum by ``frameRateDen``.</span>
                      <span class="Comment">## </span>
                      <span class="Comment">## ``Version 8`` requires ``frame_rate`` feature.</span>
                      <span class="Comment">## </span>
                      <span class="Comment">## ``REMOVED IN VERSION 11`` - see note on ``avbin.have_feature()``.</span>
  </pre></dt>
<dd>
Width of the video image, in pixels.  
This is the width of actual video data, and is not necessarily the size the video is to be displayed at (see <tt class="docutils literal"><span class="pre">sampleAspectNum</span></tt>).

</dd>
<dt id="AVbinStreamAudio"><a name="AVbinStreamAudio"></a><pre><span class="Identifier">AVbinStreamAudio</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">sampleFormat</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinSampleFormat</span>
  <span class="Identifier">sampleRate</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>          <span class="Comment">## Number of samples per second, in Hz.</span>
  <span class="Identifier">sampleBits</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>          <span class="Comment">## Number of bits per sample; typically `8` or `16`.</span>
  <span class="Identifier">channels</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span class="Comment">## Number of interleaved audio channels. \\</span>
                  <span class="Comment">## Typically `1` for monoaural, `2` for stereo. Higher channel numbers</span>
                  <span class="Comment">## are used for surround sound, however AVbin does not currently provide</span>
                  <span class="Comment">## a way to access the arrangement of these channels.</span>
  </pre></dt>
<dd>
Data type of audio samples.

</dd>
<dt id="AVbinStreamObj"><a name="AVbinStreamObj"></a><pre><span class="Identifier">AVbinStreamObj</span> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">union</span></div><span class="Other pragmaend">.}</span>
  <span class="Identifier">video</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamVideo</span>
  <span class="Identifier">audio</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamAudio</span>
</pre></dt>
<dd>


</dd>
<dt id="AVbinStreamInfo"><a name="AVbinStreamInfo"></a><pre><span class="Identifier">AVbinStreamInfo</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">structureSize</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">csize</span>        <span class="Comment">## Size of this structure, in bytes. \</span>
                      <span class="Comment">## This must be filled in by the  application before passing to AVbin.</span>
  <span class="Other">`</span><span class="Keyword">type</span><span class="Other">`</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamType</span>     <span class="Comment">## The type of stream; either audio or video.</span>
  <span class="Identifier">stream</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamObj</span>
</pre></dt>
<dd>
Stream details. 
A stream is a single audio track or video. Most audio files contain one audio stream. Most video files contain one audio stream and one video stream. More than one audio stream may indicate the presence of multiple languages which can be selected (however at this time AVbin does not provide language information).

</dd>
<dt id="AVbinStreamVideo8"><a name="AVbinStreamVideo8"></a><pre><span class="Identifier">AVbinStreamVideo8</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">width</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">height</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>              <span class="Comment">## Height of the video image, in pixels.</span>
  <span class="Identifier">sampleAspectNum</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">sampleAspectDen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>     <span class="Comment">## Aspect-ratio of each pixel.</span>
                         <span class="Comment">## The aspect is given by dividing</span>
                         <span class="Comment">## ``sampleAspectNum`` by ``sampleAspectDen``.</span>
  <span class="Identifier">frameRateNum</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>
  <span class="Identifier">frameRateDen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>        <span class="Comment">## Frame rate, in frames per second. \</span>
                      <span class="Comment">## The frame rate is given by dividing</span>
                      <span class="Comment">## ``frameRateNum`` by ``frameRateDen``.</span>
                      <span class="Comment">## </span>
                      <span class="Comment">## ``Version 8`` requires ``frameRate`` extension.</span>
  </pre></dt>
<dd>
Width of the video image, in pixels.  
This is the width of actual video data, and is not necessarily the size the video is to be displayed at (see <tt class="docutils literal"><span class="pre">sampleAspectNum</span></tt>).

</dd>
<dt id="AVbinStreamAudio8"><a name="AVbinStreamAudio8"></a><pre><span class="Identifier">AVbinStreamAudio8</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">sampleFormat</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinSampleFormat</span>
  <span class="Identifier">sampleRate</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>          <span class="Comment">## Number of samples per second, in Hz.</span>
  <span class="Identifier">sampleBits</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>          <span class="Comment">## Number of bits per sample; typically `8` or `16`.</span>
  <span class="Identifier">channels</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span class="Comment">## Number of interleaved audio channels.</span>
                  <span class="Comment">## Typically `1` for monoaural, `2` for stereo. Higher channel numbers</span>
                  <span class="Comment">## are used for surround sound, however AVbin does not currently provide</span>
                  <span class="Comment">## a way to access the arrangement of these channels.</span>
  </pre></dt>
<dd>
Data type of audio samples.

</dd>
<dt id="AVbinStreamObj8"><a name="AVbinStreamObj8"></a><pre><span class="Identifier">AVbinStreamObj8</span> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">union</span></div><span class="Other pragmaend">.}</span>
  <span class="Identifier">video</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamVideo8</span>
  <span class="Identifier">audio</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamAudio8</span>
</pre></dt>
<dd>


</dd>
<dt id="AVbinStreamInfo8"><a name="AVbinStreamInfo8"></a><pre><span class="Identifier">AVbinStreamInfo8</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">structureSize</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">csize</span>        <span class="Comment">## Size of this structure, in bytes. \</span>
                      <span class="Comment">## This must be filled in by the  application before passing to AVbin.</span>
  <span class="Other">`</span><span class="Keyword">type</span><span class="Other">`</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamType</span>     <span class="Comment">## The type of stream; either audio or video.</span>
  <span class="Identifier">stream</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinStreamObj8</span>
</pre></dt>
<dd>
Stream details, version 8.  
A stream is a single audio track or video. Most audio files contain one audio stream. Most video files contain one audio stream and one video stream. More than one audio stream may indicate the presence of multiple languages which can be selected (however at this time AVbin does not provide language information).

</dd>
<dt id="AVbinPacket"><a name="AVbinPacket"></a><pre><span class="Identifier">AVbinPacket</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">structureSize</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">csize</span>        <span class="Comment">## Size of this structure, in bytes. \</span>
                      <span class="Comment">## This must be filled in by the application before passing to AVbin.</span>
  <span class="Identifier">timestamp</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">AVbinTimestamp</span>   <span class="Comment">## The time at which this packet is to be \</span>
                           <span class="Comment">## played. This can be used to synchronise audio and video data.</span>
  <span class="Identifier">streamIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>         <span class="Comment">## The stream this packet contains data for.</span>
  <span class="Identifier">data</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span>
  <span class="Identifier">size</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">csize</span>
</pre></dt>
<dd>
A single packet of stream data. \ The structure size must be initialised before passing to <tt class="docutils literal"><span class="pre">avbin.read()</span></tt>. The data will point to a block of memory allocated by AVbin -- you must not free it. The data will be valid until the next time you call <tt class="docutils literal"><span class="pre">avbin.read()</span></tt>, or until the file is closed.

</dd>
<dt id="AVbinInfo"><a name="AVbinInfo"></a><pre><span class="Identifier">AVbinInfo</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">structureSize</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">csize</span> <span class="Comment">## Size of this structure, in bytes.</span>
                      <span class="Comment">##  This will be filled in for you by ``avbin.get_info()`` so that you</span>
                      <span class="Comment">##  can determine which version of this struct  you have received.</span>
                      <span class="Comment">##  For example:</span>
                      <span class="Comment">## </span>
                      <span class="Comment">##  .. code-block:: nim</span>
                      <span class="Comment">##    var info: ptr AVbinInfo = avbin.get_info()</span>
                      <span class="Comment">##    if info.structureSize == sizeof(AVbinInfo)</span>
                      <span class="Comment">##    # You are safe to access the members of an AVbinInfo...</span>
                      <span class="Comment">## </span>
  <span class="Identifier">version</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span> <span class="Comment">## AVbin version as an integer.  \</span>
                <span class="Comment">## This value is the same as returned by the ``avbin.get_version()``</span>
                <span class="Comment">## procedure.  Consider using ``versionString`` instead.</span>
  <span class="Identifier">versionString</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span>      <span class="Comment">## AVbin version string, \</span>
                        <span class="Comment">## including pre-release information, i.e. &quot;10-beta1&quot;.</span>
  <span class="Identifier">buildDate</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span>          <span class="Comment">## When the library was built, \</span>
                    <span class="Comment">## in strftime format &quot;%Y-%m-%d %H:%M:%S %z&quot;</span>
  <span class="Identifier">repo</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span>               <span class="Comment">## URL to the AVbin repository used.</span>
  <span class="Identifier">commit</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span>             <span class="Comment">## The commit of the AVbin repository used.</span>
  <span class="Identifier">backend</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span>            <span class="Comment">## Which backend we are using: &quot;libav&quot; or &quot;ffmpeg&quot;</span>
  <span class="Identifier">backendVersionString</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span> <span class="Comment">## The version string  \</span>
                               <span class="Comment">## of the most recent tag of the backend.</span>
                               <span class="Comment">## </span>
                               <span class="Comment">## ``Note:`` There may be custom patches *on top* of the backend version.</span>
  <span class="Identifier">backendRepo</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span>        <span class="Comment">## URL to the backend repository \</span>
                      <span class="Comment">## used for this release.</span>
  <span class="Identifier">backendCommit</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">cstring</span>      <span class="Comment">## The commit hash of the backend repo \</span>
                        <span class="Comment">## used for the backend.</span>
  </pre></dt>
<dd>
Information about the AVbin library.  
See <tt class="docutils literal"><span class="pre">avbin.get_info()</span></tt>

</dd>
<dt id="AVbinOptions"><a name="AVbinOptions"></a><pre><span class="Identifier">AVbinOptions</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">structureSize</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">csize</span>        <span class="Comment">## Size of this structure, in bytes. \</span>
                      <span class="Comment">## This must be filled in by the  application before passing to AVbin.</span>
  <span class="Identifier">threadCount</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span> <span class="Comment">## Number of threads to attempt to use.  \</span>
                    <span class="Comment">## Using the recommended ``threadCount`` of `0` means try to detect</span>
                    <span class="Comment">## the number of CPU cores and set threads to (num cores + 1).</span>
                    <span class="Comment">## A ``threadCount`` of `1` or a negative number means single threaded.</span>
                    <span class="Comment">## Any other number will result in an attempt to set that many threads.</span>
  </pre></dt>
<dd>
Initialization Options

</dd>
<dt id="AVbinLogCallback"><a name="AVbinLogCallback"></a><pre><span class="Identifier">AVbinLogCallback</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">module</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">level</span><span class="Other">:</span> <span class="Identifier">AVbinLogLevel</span><span class="Other">;</span> <span class="Identifier">message</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>
Callback for log information.</p>
<p><tt class="docutils literal"><span class="pre">module</span></tt>  The name of the module where this message originated</p>
<p><tt class="docutils literal"><span class="pre">level</span></tt>   The log verbosity level of this message</p>
<p><tt class="docutils literal"><span class="pre">message</span></tt> The formatted message. The message may or may not contain newline characters.</p>


</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<dt id="getVersion"><a name="getVersion,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">getVersion</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int32</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_get_version&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Get the linked version of AVbin.</p>
<p>Version numbers are always integer, there are no &quot;minor&quot; or &quot;patch&quot; revisions. All AVbin versions are backward and forward compatible, modulo the required feature set.</p>


</dd>
<dt id="getInfo"><a name="getInfo,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">getInfo</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">AVbinInfo</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_get_info&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Get information about the linked version of AVbin.</p>
<p>See the AVbinInfo definition.</p>


</dd>
<dt id="getFFmpegRevision"><a name="getFFmpegRevision,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">getFFmpegRevision</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int32</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">deprecated</span><span class="Other">,</span> <span class="Identifier">cdecl</span><span class="Other">,</span>
                               <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_get_ffmpeg_revision&quot;</span><span class="Other">,</span>
                               <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Get the SVN revision of FFmpeg.</p>
<p>This is built into AVbin as it is built.</p>
<p><tt class="docutils literal"><span class="pre">DEPRECATED:</span></tt> Use <tt class="docutils literal"><span class="pre">avbin.getLibavCommit()</span></tt> or <tt class="docutils literal"><span class="pre">avbin.getLibavVersion()</span></tt> instead.</p>
<p>This always returns <cite>0</cite> now that we use Libav from Git. This procedure will be removed in AVbin 12.</p>


</dd>
<dt id="getAudioBufferSize"><a name="getAudioBufferSize,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">getAudioBufferSize</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">csize</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">deprecated</span><span class="Other">,</span> <span class="Identifier">cdecl</span><span class="Other">,</span>
                                <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_get_audio_buffer_size&quot;</span><span class="Other">,</span>
                                <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Get the minimum audio buffer size, in bytes.</p>
<p><tt class="docutils literal"><span class="pre">DEPRECATED:</span></tt> Why is this even here?  It just returns the number <cite>192000</cite>. It has been removed upstream, so we'll remove it as well some time soon.</p>


</dd>
<dt id="haveFeature"><a name="haveFeature,cstring"></a><pre><span class="Keyword">proc</span> <span class="Identifier">haveFeature</span><span class="Other">(</span><span class="Identifier">feature</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int32</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_have_feature&quot;</span><span class="Other">,</span>
                                        <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Determine if AVbin includes a requested feature.</p>
<p>When future versions of AVbin include more functionality, that functionality can be tested for by calling this procedure.  The following features can be tested for:</p>
<ul class="simple"><li>&quot;frame_rate&quot; - <tt class="docutils literal"><span class="pre">AVbinStreamInfo8</span></tt>, <tt class="docutils literal"><span class="pre">frameRate</span></tt> variables.</li>
<li>&quot;options&quot; - <tt class="docutils literal"><span class="pre">avbin.initOptions()</span></tt>, <tt class="docutils literal"><span class="pre">AVbinOptions</span></tt> (multi-threading)</li>
<li>&quot;info&quot; - <tt class="docutils literal"><span class="pre">avbin.getInfo()</span></tt>, <tt class="docutils literal"><span class="pre">AVbinInfo</span></tt></li>
</ul>
<p><tt class="docutils literal"><span class="pre">NOTE:</span></tt> The &quot;frame_rate&quot; feature was available in versions 9 and 10, but removed in version 11.  Populating <tt class="docutils literal"><span class="pre">rFrameRate</span></tt> was considered an unreliable hack upstream and removed. If you try to access it in the upstream library, it is always {<cite>0</cite>, <cite>0</cite>}.  Perhaps we can find a different source of frame rate and re-enable this feature in the future.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> <cite>1</cite> The feature is present, or <cite>0</cite> otherwise.</p>


</dd>
<dt id="init"><a name="init,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">init</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_init&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>One of the <tt class="docutils literal"><span class="pre">avbin.init*</span></tt> procedures must be called before opening a file to initialize AVbin. Check the return value for success before continuing.</p>
<p>Initialize AVbin with basic features. Consider instead <tt class="docutils literal"><span class="pre">avbin.initOptions()</span></tt></p>


</dd>
<dt id="initOptions"><a name="initOptions,ptr.AVbinOptions"></a><pre><span class="Keyword">proc</span> <span class="Identifier">initOptions</span><span class="Other">(</span><span class="Identifier">options</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">AVbinOptions</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_init_options&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>One of the <tt class="docutils literal"><span class="pre">avbin.init*</span></tt> procedures must be called before opening a file to initialize AVbin. Check the return value for success before continuing.</p>
<p>Initialize AVbin with <tt class="docutils literal"><span class="pre">options</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">options</span></tt>  If <tt class="docutils literal"><span class="pre">nil</span></tt>, use defaults. Otherwise create and populate an instance of <tt class="docutils literal"><span class="pre">AVbinOptions</span></tt> to supply.</p>


</dd>
<dt id="setLogLevel"><a name="setLogLevel,AVbinLogLevel"></a><pre><span class="Keyword">proc</span> <span class="Identifier">setLogLevel</span><span class="Other">(</span><span class="Identifier">level</span><span class="Other">:</span> <span class="Identifier">AVbinLogLevel</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_set_log_level&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
Set the log level verbosity.

</dd>
<dt id="setLogCallback"><a name="setLogCallback,AVbinLogCallback"></a><pre><span class="Keyword">proc</span> <span class="Identifier">setLogCallback</span><span class="Other">(</span><span class="Identifier">callback</span><span class="Other">:</span> <span class="Identifier">AVbinLogCallback</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_set_log_callback&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
Set a custom log <tt class="docutils literal"><span class="pre">callback</span></tt>. By default, log messages are printed to standard error. Providing a <tt class="docutils literal"><span class="pre">nil</span></tt> callback restores this default handler.

</dd>
<dt id="openFilename"><a name="openFilename,cstring"></a><pre><span class="Keyword">proc</span> <span class="Identifier">openFilename</span><span class="Other">(</span><span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_open_filename&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Open a media file given its <tt class="docutils literal"><span class="pre">filename</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> <tt class="docutils literal"><span class="pre">nil</span></tt> if the file could not be opened, or is not of a recognised file format.</p>


</dd>
<dt id="openFilenameWithFormat"><a name="openFilenameWithFormat,cstring,cstring"></a><pre><span class="Keyword">proc</span> <span class="Identifier">openFilenameWithFormat</span><span class="Other">(</span><span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">format</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_open_filename_with_format&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Open a media file given its <tt class="docutils literal"><span class="pre">filename</span></tt> and <tt class="docutils literal"><span class="pre">format</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> <tt class="docutils literal"><span class="pre">nil</span></tt> if the file could not be opened, or is not of a recognised file format.</p>


</dd>
<dt id="closeFile"><a name="closeFile,AVbinFile"></a><pre><span class="Keyword">proc</span> <span class="Identifier">closeFile</span><span class="Other">(</span><span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span><span class="Other">)</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_close_file&quot;</span><span class="Other">,</span>
                               <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
Close a media file.

</dd>
<dt id="seekFile"><a name="seekFile,AVbinFile,AVbinTimestamp"></a><pre><span class="Keyword">proc</span> <span class="Identifier">seekFile</span><span class="Other">(</span><span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span><span class="Other">;</span> <span class="Identifier">timestamp</span><span class="Other">:</span> <span class="Identifier">AVbinTimestamp</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_seek_file&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Seek to a timestamp within a file.</p>
<p>For video files, the first keyframe before the requested <tt class="docutils literal"><span class="pre">timestamp</span></tt> will be seeked to.  For audio files, the first audio packet before the requested <tt class="docutils literal"><span class="pre">timestamp</span></tt> is used.</p>


</dd>
<dt id="fileInfo"><a name="fileInfo,AVbinFile,ptr.AVbinFileInfo"></a><pre><span class="Keyword">proc</span> <span class="Identifier">fileInfo</span><span class="Other">(</span><span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span><span class="Other">;</span> <span class="Identifier">info</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">AVbinFileInfo</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_file_info&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Get information about the opened file.</p>
<p>The <tt class="docutils literal"><span class="pre">info</span></tt> struct must be allocated by the application and have its <tt class="docutils literal"><span class="pre">structureSize</span></tt> member filled in correctly.  On return, the structure will be filled with file details.</p>


</dd>
<dt id="streamInfo"><a name="streamInfo,AVbinFile,int32,ptr.AVbinStreamInfo"></a><pre><span class="Keyword">proc</span> <span class="Identifier">streamInfo</span><span class="Other">(</span><span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span><span class="Other">;</span> <span class="Identifier">streamIndex</span><span class="Other">:</span> <span class="Identifier">int32</span><span class="Other">;</span> <span class="Identifier">info</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">AVbinStreamInfo</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma">
    <span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_stream_info&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Get information about a stream within the file.</p>
<p>The info struct must be allocated by the application and have its <tt class="docutils literal"><span class="pre">structureSize</span></tt> member filled in correctly.  On return, the structure will be filled with stream details.</p>
<p>Ensure that <tt class="docutils literal"><span class="pre">streamIndex</span></tt> is less than <tt class="docutils literal"><span class="pre">nStreams</span></tt> given in the file info.</p>
<p><tt class="docutils literal"><span class="pre">file</span></tt>        The file to examine.</p>
<p><tt class="docutils literal"><span class="pre">streamIndex</span></tt> The number of the stream within the file.</p>
<p><tt class="docutils literal"><span class="pre">info</span></tt>        Returned stream information.</p>


</dd>
<dt id="openStream"><a name="openStream,AVbinFile,int32"></a><pre><span class="Keyword">proc</span> <span class="Identifier">openStream</span><span class="Other">(</span><span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span><span class="Other">;</span> <span class="Identifier">streamIndex</span><span class="Other">:</span> <span class="Identifier">int32</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinStream</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_open_stream&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Open a stream for decoding.</p>
<p>If you intend to decode audio or video from a file, you must open the stream first.  The returned opaque handle should be passed to the relevant decode procedure when a packet for that stream is read.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> pointer to the <tt class="docutils literal"><span class="pre">AVbinStream</span></tt>, or <tt class="docutils literal"><span class="pre">nil</span></tt> if there are any problems.</p>


</dd>
<dt id="closeStream"><a name="closeStream,AVbinStream"></a><pre><span class="Keyword">proc</span> <span class="Identifier">closeStream</span><span class="Other">(</span><span class="Identifier">stream</span><span class="Other">:</span> <span class="Identifier">AVbinStream</span><span class="Other">)</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_close_stream&quot;</span><span class="Other">,</span>
                                     <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
Close a file stream.

</dd>
<dt id="read"><a name="read,AVbinFile,ptr.AVbinPacket"></a><pre><span class="Keyword">proc</span> <span class="Identifier">read</span><span class="Other">(</span><span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">AVbinFile</span><span class="Other">;</span> <span class="Identifier">packet</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">AVbinPacket</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">AVbinResult</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_read&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Read a packet from the file.</p>
<p>The packet struct must be allocated by the application and have its structure_size member filled in correctly. On return, the structure will be filled with a packet of data. The actual data pointer within the packet must not be freed, and is valid until the next call to <tt class="docutils literal"><span class="pre">avbin.read()</span></tt>.</p>
<p>Applications should examine the packet's stream index to match it with an appropriate open stream handle, or discard it if none match. The packet data can then be passed to the relevant decode procedure.</p>


</dd>
<dt id="decodeAudio"><a name="decodeAudio,AVbinStream,ptr.uint8,csize,ptr.uint8,ptr.cint"></a><pre><span class="Keyword">proc</span> <span class="Identifier">decodeAudio</span><span class="Other">(</span><span class="Identifier">stream</span><span class="Other">:</span> <span class="Identifier">AVbinStream</span><span class="Other">;</span> <span class="Identifier">dataIn</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span><span class="Other">;</span> <span class="Identifier">sizeIn</span><span class="Other">:</span> <span class="Identifier">csize</span><span class="Other">;</span>
                <span class="Identifier">dataOut</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span><span class="Other">;</span> <span class="Identifier">sizeOut</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int32</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_decode_audio&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Decode some audio data.</p>
<p>You must ensure that <tt class="docutils literal"><span class="pre">dataOut</span></tt> is at least as big as the minimum audio buffer size (see <tt class="docutils literal"><span class="pre">avbin.getAudioBufferSize()</span></tt>).</p>
<p><tt class="docutils literal"><span class="pre">stream</span></tt>  The stream to decode.</p>
<p><tt class="docutils literal"><span class="pre">dataIn</span></tt>  Incoming data, as read from a packet.</p>
<p><tt class="docutils literal"><span class="pre">sizeIn</span></tt>  Size of dataIn, in bytes.</p>
<p><tt class="docutils literal"><span class="pre">dataOut</span></tt> Decoded audio data buffer, provided by application.</p>
<p><tt class="docutils literal"><span class="pre">sizeOut</span></tt> Number of bytes of <tt class="docutils literal"><span class="pre">dataOut</span></tt> used.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> the number of bytes of <tt class="docutils literal"><span class="pre">dataIn</span></tt> actually used, or <cite>-1</cite> if there was an error. You should call this procedure repeatedly as long as the return value is greater than <cite>0</cite>.</p>


</dd>
<dt id="decodeVideo"><a name="decodeVideo,AVbinStream,ptr.uint8,csize,ptr.uint8"></a><pre><span class="Keyword">proc</span> <span class="Identifier">decodeVideo</span><span class="Other">(</span><span class="Identifier">stream</span><span class="Other">:</span> <span class="Identifier">AVbinStream</span><span class="Other">;</span> <span class="Identifier">dataIn</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span><span class="Other">;</span> <span class="Identifier">sizeIn</span><span class="Other">:</span> <span class="Identifier">csize</span><span class="Other">;</span>
                <span class="Identifier">dataOut</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int32</span> <span class="Other pragmabegin">{.</span><div class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;avbin_decode_video&quot;</span><span class="Other">,</span>
    <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">AVBIN_LIB</span></div><span class="Other pragmaend">.}</span></pre></dt>
<dd>
<p>Decode a video frame image.</p>
<p>The size of <tt class="docutils literal"><span class="pre">dataOut</span></tt> must be large enough to hold the entire image. This is width * height * 3 (images are always in 8-bit RGB format).</p>
<p><tt class="docutils literal"><span class="pre">stream</span></tt>  The stream to decode.</p>
<p><tt class="docutils literal"><span class="pre">dataIn</span></tt>  Incoming data, as read from a packet.</p>
<p><tt class="docutils literal"><span class="pre">sizeIn</span></tt>  Size of <tt class="docutils literal"><span class="pre">dataIn</span></tt>, in bytes.</p>
<p><tt class="docutils literal"><span class="pre">dataOut</span></tt> Decoded image data.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> the number of bytes of <tt class="docutils literal"><span class="pre">dataIn</span></tt> actually used. Any remaining bytes can be discarded, or <cite>-1</cite> if there was an error</p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small>Made with Nim. Generated: 2017-12-31 15:10:09 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
